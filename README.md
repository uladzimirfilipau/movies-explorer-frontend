# Фронтенд дипломного проекта

Сервис, в котором можно найти фильмы по запросу и сохранить в личном кабинете.

## Описание
Сайт состоит из нескольких страниц:
- Главная. Содержит информацию о выполненном проекте.
- Страница регистрации. Позволяет пользователю зарегистрировать аккаунт.
- Страница авторизации. На ней пользователь может войти в систему.
- Страница редактирования профиля. Пользователь может изменить данные своего аккаунта.
- Страница с фильмами. На ней есть форма поиска фильмов и блок с результатами поиска.
- Страница с сохранёнными фильмами. Показывает фильмы, сохранённые пользователем.

## Технологии
`HTML` `CSS` `БЭМ` `Адаптивная верстка` `JavaScript` `React` `Node.js`

- Инфраструктурные файлы проекта созданы через CRA.
- Проект адаптирован под различные разрешения экрана.
- В коде используется семантическая разметка, которая вынесена в соответствующие ей компоненты.
- В корневом компоненте App создана стейт-переменная, которая хранит данные пользователя. Она используется в качестве значения для провайдера контекста.
- При попытке перейти на любой защищённый роут происходит редирект на /.
- Если пользователь был авторизован и закрыл вкладку, он может вернуться сразу на любую страницу приложения по URL-адресу.
- При попытке перейти на несуществующую страницу происходит редирект на страницу «404».
- Запросы к API вынесены в отдельные файлы: MainApi.js и MoviesApi.js. Цепочка обработки промисов завершается блоком catch.
- Запрос всех фильмов с сервиса beatfilm-movies производится только при первом поиске; все сохранённые фильмы не запрашиваются с сервера при каждом лайке или дизлайке; данные пользователя запрашиваются один раз при запуске приложения.
- После успешного вызова обработчика onSignOut происходит редирект на /.


## Страницы «Регистрация» и «Авторизация»
- Роуты /saved-movies, /movies, /profile защищёны HOC-компонентом ProtectedRoute. Роуты / , /signin, /signup не защищены.
- На странице «Регистрация» клик по кнопке «Зарегистрироваться» отправляет запрос на роут /signup, если данные введены корректно. Если запрос прошёл успешно, то автоматически производится вход и редирект на страницу /movies.
- На странице «Авторизация» клик по кнопке «Войти» отправляет запрос на роут /signin, если данные введены корректно. Если запрос прошёл успешно, происходит редирект на страницу /movies.
- Все формы валидируются. Пользователь не может отправить запрос с невалидными данными.

## Страница редактирования профиля
- На странице редактирования профиля клик по кнопке «Сохранить» отправляет запрос на роут /users/me, если данные введены корректно.
- Пользователю отображается уведомление об успешном запросе к серверу при сохранении профиля.
- Если на странице редактирования профиля введённая информация соответствует текущим данным пользователя, кнопка «Сохранить» заблокирована и нельзя отправить запрос сохранения.

## Поиск фильмов
- Поиск фильмов регистронезависимый.
- Если запрос выполняется впервые, то работа с фильтром происходит после получения данных.
- При поиске текст запроса, найденные фильмы и состояние переключателя короткометражек сохраняются в хранилище. Если пользователь повторно переходит на страницу фильмов, то при монтировании компонента данные достаются из локального хранилища.
- После успешного сабмита формы поиска появляется блок с результатами.
- Если ничего не найдено, выводится текст: «Ничего не найдено».
- На странице всех фильмов в блоке результата отображается такое же количество карточек, как в макете. Нажатие на кнопку «Ещё» отображает следующий ряд с тем же числом карточек. При отображении всех карточек кнопка "Ещё" скрывается.

## Карточки
- Карточка состоит из изображения, названия фильма и его длительности. Клик по карточке ведёт на трейлер фильма.
- При клике на иконку «Лайк» в блоке карточки выполняется запрос к /movies API для установки или снятия лайка, в зависимости от текущего состояния.

## Сохранённые фильмы
- На странице отображается форма поиска. Она позволяет искать фильмы по уже полученным данным о сохранённых фильмах.
- Блок карточки содержит кнопку удаления. При нажатии на кнопку удаления выполняется запрос на удаление фильма. После успешного запроса карточка удаляется со страницы.

## Запуск проекта
- Клонировать репозиторий: `git clone https://github.com/uladzimirfilipau/movies-explorer-frontend.git`
- Установить зависимости в корневой директории проекта с помощью команды: `npm i`
- Запустить frontend часть приложения на 3000 порту: `npm start`
- Для полноценной работы приложения необходимо запустить [бэкенд](https://github.com/uladzimirfilipau/movies-explorer-api)

## Ссылки
Ссылка на [макет](https://www.figma.com/file/IEnFH5OC4A5JnzFGDGDvr4/Diplom-Vladimir-Filippov?node-id=891%3A3857)
